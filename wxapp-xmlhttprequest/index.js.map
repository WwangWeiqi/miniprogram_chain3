{"version":3,"sources":["wxapp-XMLHttpRequest.js"],"names":[],"mappings":";;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"XMLHttpRequest\"] = factory();\n\telse\n\t\troot[\"XMLHttpRequest\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\n\n/**\n * Created by axetroy on 17-6-23.\n */\n/// <reference path=\"./index.d.ts\" />\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar XMLHttpRequest_1 = __webpack_require__(1);\n// http event\nvar EVENT_READY_STATE_CHANGE = 'readystatechange';\nvar EVENT_ERROR = 'error';\nvar EVENT_TIMEOUT = 'timeout';\nvar EVENT_ABORT = 'abort';\n// http status code and text\nvar HTTP_CODE2TEXT = {\n    100: 'Continue',\n    101: 'Switching Protocol',\n    102: 'Processing',\n    200: 'OK',\n    201: 'Created',\n    202: 'Accepted',\n    203: 'Non-Authoritative Information',\n    204: 'No Content',\n    205: 'Reset Content',\n    206: 'Partial Content',\n    207: 'Multi-Status',\n    208: 'Multi-Status',\n    226: 'IM Used',\n    300: 'Multiple Choice',\n    301: 'Moved Permanently',\n    302: 'Found',\n    303: 'See Other',\n    304: 'Not Modified',\n    305: 'Use Proxy',\n    306: 'unused',\n    307: 'Temporary Redirect',\n    308: 'Permanent Redirect',\n    400: 'Bad Request',\n    401: 'Unauthorized',\n    402: 'Payment Required',\n    403: 'Forbidden',\n    404: 'Not Found',\n    405: 'Method Not Allowed',\n    406: 'Not Acceptable',\n    407: 'Proxy Authentication Required',\n    408: 'Request Timeout',\n    409: 'Conflict',\n    410: 'Gone',\n    411: 'Length Required',\n    412: 'Precondition Failed',\n    413: 'Payload Too Large',\n    414: 'URI Too Long',\n    415: 'Unsupported Media Type',\n    416: 'Requested Range Not Satisfiable',\n    417: 'Expectation Failed',\n    418: \"I'm a teapot\",\n    421: 'Misdirected Request',\n    422: 'Unprocessable Entity',\n    423: 'Locked',\n    424: 'Failed Dependency',\n    426: 'Upgrade Required',\n    428: 'Precondition Required',\n    429: 'Too Many Requests',\n    431: 'Request Header Fields Too Large',\n    451: 'Unavailable For Legal Reasons',\n    500: 'Internal Server Error',\n    501: 'Not Implemented',\n    502: 'Bad Gateway',\n    503: 'Service Unavailable',\n    504: 'Gateway Timeout',\n    505: 'HTTP Version Not Supported',\n    506: 'Variant Also Negotiates',\n    507: 'Insufficient Storage',\n    508: 'Loop Detected',\n    510: 'Not Extended',\n    511: 'Network Authentication Required'\n};\n// forbiden header\nvar FORBIDDEN_HEADERS = [\n    \"Accept-Charset\",\n    \"Accept-Encoding\",\n    \"Access-Control-Request-Headers\",\n    \"Access-Control-Request-Method\",\n    \"Connection\",\n    \"Content-Length\",\n    \"Cookie\",\n    \"Cookie2\",\n    \"Date\",\n    \"DNT\",\n    \"Expect\",\n    \"Host\",\n    \"Keep-Alive\",\n    \"Origin\",\n    \"Referer\",\n    \"TE\",\n    \"Trailer\",\n    \"Transfer-Encoding\",\n    \"Upgrade\",\n    \"Via\"\n]\n    .map(function (v) { return v.toLowerCase(); })\n    .map(function (v) { return v.trim(); });\nfunction lowerCaseIfy(headers) {\n    var output = {};\n    for (var header in headers) {\n        if (headers.hasOwnProperty(header)) {\n            output[header.toLowerCase()] = headers[header];\n        }\n    }\n    return output;\n}\nvar XMLHttpRequest = /** @class */ (function (_super) {\n    __extends(XMLHttpRequest, _super);\n    function XMLHttpRequest() {\n        var _this = _super.call(this) || this;\n        _this.name = 'XMLHttpRequest';\n        _this.__method = null;\n        _this.__async = true;\n        _this.__requestHeader = {};\n        _this.__responseHeader = {};\n        _this.__aborted = false;\n        _this.__requestTask = null; // this is WeChat app's request task return, for abort the request\n        _this.__readyState = _this.UNSENT;\n        _this.__onreadystatechangeHandler = function (event) { };\n        _this.__withCredentials = true; // default is true\n        _this.__responseType = null;\n        _this.__response = null;\n        _this.__responseStatus = 0;\n        _this.__timeout = 0;\n        _this.__haveTimeout = false;\n        _this.__requestDone = false;\n        _this.addEventListener(EVENT_READY_STATE_CHANGE, function (ev) {\n            _this.__onreadystatechangeHandler(ev);\n        });\n        _this.addEventListener(EVENT_TIMEOUT, function (ev) {\n            _this.__ontimeoutHandler(ev);\n        });\n        _this.addEventListener(EVENT_ABORT, function (ev) {\n            _this.__onabortHandler(ev);\n        });\n        _this.addEventListener(EVENT_ERROR, function (ev) {\n            _this.__onerrorHandler(ev);\n        });\n        return _this;\n    }\n    Object.defineProperty(XMLHttpRequest.prototype, \"readyState\", {\n        get: function () {\n            return this.__readyState;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(XMLHttpRequest.prototype, \"onreadystatechange\", {\n        get: function () {\n            return this.__onreadystatechangeHandler;\n        },\n        set: function (callback) {\n            this.__onreadystatechangeHandler = callback;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(XMLHttpRequest.prototype, \"withCredentials\", {\n        get: function () {\n            return this.__withCredentials;\n        },\n        set: function (value) {\n            this.__withCredentials = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(XMLHttpRequest.prototype, \"response\", {\n        get: function () {\n            return this.__response;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(XMLHttpRequest.prototype, \"responseText\", {\n        get: function () {\n            return typeof this.__response === 'object'\n                ? JSON.stringify(this.__response)\n                : this.__response;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(XMLHttpRequest.prototype, \"responseURL\", {\n        get: function () {\n            return this.__url;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(XMLHttpRequest.prototype, \"timeout\", {\n        get: function () {\n            return this.__timeout;\n        },\n        set: function (millisecond) {\n            this.__timeout = millisecond;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(XMLHttpRequest.prototype, \"status\", {\n        get: function () {\n            return this.__responseStatus;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(XMLHttpRequest.prototype, \"statusText\", {\n        get: function () {\n            return HTTP_CODE2TEXT[this.status] || 'unknown';\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(XMLHttpRequest.prototype, \"responseType\", {\n        get: function () {\n            return this.__responseType;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * override mime type, not support yet\n     * @param mimetype\n     */\n    XMLHttpRequest.prototype.overrideMimeType = function (mimetype) {\n        if (this.readyState >= this.HEADERS_RECEIVED) {\n            throw new Error(\"Can not apply 'overrideMimeType' after send data\");\n        }\n    };\n    /**\n     * fake to open the server\n     * @param method\n     * @param url\n     * @param async\n     * @param user\n     * @param password\n     */\n    XMLHttpRequest.prototype.open = function (method, url, async, user, password) {\n        if (async === void 0) { async = true; }\n        if (user === void 0) { user = null; }\n        if (password === void 0) { password = null; }\n        // if open over 2 time, then close connection\n        if (this.readyState >= this.OPENED) {\n            this.abort();\n            return;\n        }\n        this.__method = method;\n        this.__url = url;\n        this.__async = async;\n        this.__user = user;\n        this.__password = password;\n        this.__readyState = this.OPENED;\n        this.dispatchEvent(new Event(EVENT_READY_STATE_CHANGE));\n    };\n    /**\n     * send data\n     * @param data\n     */\n    XMLHttpRequest.prototype.send = function (data) {\n        var _this = this;\n        if (this.__readyState !== this.OPENED) {\n            throw new Error(\"Failed to execute 'send' on 'XMLHttpRequest': The object's state must be OPENED.\");\n        }\n        // if the request have been aborted before send data\n        if (this.__aborted === true) {\n            return;\n        }\n        // can not resend\n        if (this.__requestDone) {\n            return;\n        }\n        var timer = null;\n        if (this.timeout > 0) {\n            timer = setTimeout(function () {\n                if (_this.__aborted === true) {\n                    return;\n                }\n                _this.__haveTimeout = true;\n                if (_this.__requestTask) {\n                    _this.__requestTask.abort();\n                }\n                _this.dispatchEvent(new Event(EVENT_TIMEOUT));\n            }, this.timeout);\n        }\n        this.__requestTask = this.__requestTask = wx.request({\n            url: this.__url,\n            method: this.__method,\n            header: this.__requestHeader,\n            data: data,\n            dataType: 'json',\n            success: function (res) {\n                if (_this.__haveTimeout || _this.__aborted)\n                    return;\n                timer && clearTimeout(timer);\n                _this.__requestDone = true;\n                _this.__requestTask = null;\n                _this.__responseStatus = res.statusCode;\n                _this.__responseHeader = lowerCaseIfy(res.header);\n                _this.__response = res.data === void 0 ? null : res.data;\n                if (_this.__responseStatus >= 400) {\n                    _this.dispatchEvent(new Event(EVENT_ERROR));\n                }\n            },\n            fail: function (res) {\n                if (_this.__haveTimeout || _this.__aborted)\n                    return;\n                timer && clearTimeout(timer);\n                _this.__requestDone = true;\n                _this.__requestTask = null;\n                _this.__responseStatus = res.statusCode;\n                _this.__responseHeader = lowerCaseIfy(res.header);\n                _this.__response = res.data === void 0 ? null : res.data;\n                _this.dispatchEvent(new Event(EVENT_ERROR));\n            },\n            complete: function () {\n                if (_this.__haveTimeout || _this.__aborted)\n                    return;\n                _this.__readyState = _this.HEADERS_RECEIVED;\n                _this.dispatchEvent(new Event(EVENT_READY_STATE_CHANGE));\n                _this.__readyState = _this.LOADING;\n                _this.dispatchEvent(new Event(EVENT_READY_STATE_CHANGE));\n                _this.__readyState = _this.DONE;\n                _this.dispatchEvent(new Event(EVENT_READY_STATE_CHANGE));\n            }\n        });\n    };\n    /**\n     * abort the request after send\n     */\n    XMLHttpRequest.prototype.abort = function () {\n        // if the request have been aborted or have finish the quest\n        // do nothing and return void\n        if (this.__aborted || this.__requestDone) {\n            return;\n        }\n        if (this.__requestTask) {\n            this.__requestTask.abort();\n        }\n        this.__aborted = true;\n        this.dispatchEvent(new Event(EVENT_ABORT));\n    };\n    /**\n     * set request header\n     * @param header\n     * @param value\n     */\n    XMLHttpRequest.prototype.setRequestHeader = function (header, value) {\n        // not call .open() yet\n        if (this.readyState < this.OPENED) {\n            throw new Error(\"Failed to execute 'setRequestHeader' on 'XMLHttpRequest': The object's state must be OPENED.\");\n        }\n        if (FORBIDDEN_HEADERS.findIndex(function (v) { return v.trim() === header; }) >= 0) {\n            throw new Error(\"Invalid header \" + header);\n        }\n        this.__requestHeader[header] = value + '';\n    };\n    /**\n     * get response header\n     * @param header\n     * @returns {null}\n     */\n    XMLHttpRequest.prototype.getResponseHeader = function (header) {\n        var val = this.__responseHeader[header.toLowerCase()];\n        return val !== undefined ? val : null;\n    };\n    /**\n     * get all response header string\n     * @returns {string}\n     */\n    XMLHttpRequest.prototype.getAllResponseHeaders = function () {\n        var headers = [];\n        var headersObject = lowerCaseIfy(this.__responseHeader);\n        for (var header in headersObject) {\n            if (headersObject.hasOwnProperty(header)) {\n                var value = headersObject[header];\n                headers.push(header.toLowerCase() + \": \" + value);\n            }\n        }\n        return headers.join('\\n');\n    };\n    return XMLHttpRequest;\n}(XMLHttpRequest_1.default));\nexports.default = XMLHttpRequest;\n\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\n\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar XMLHttpRequestEventTarget_1 = __webpack_require__(2);\nvar UNSENT = 0;\nvar OPENED = 1;\nvar HEADERS_RECEIVED = 2;\nvar LOADING = 3;\nvar DONE = 4;\nvar XMLHttpRequest = /** @class */ (function (_super) {\n    __extends(XMLHttpRequest, _super);\n    function XMLHttpRequest() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.DONE = DONE;\n        _this.LOADING = LOADING;\n        _this.HEADERS_RECEIVED = HEADERS_RECEIVED;\n        _this.OPENED = OPENED;\n        _this.UNSENT = UNSENT;\n        return _this;\n    }\n    return XMLHttpRequest;\n}(XMLHttpRequestEventTarget_1.default));\nexports.default = XMLHttpRequest;\n\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\n\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar EventTarget_1 = __webpack_require__(3);\nvar XMLHttpRequestEventTarget = /** @class */ (function (_super) {\n    __extends(XMLHttpRequestEventTarget, _super);\n    function XMLHttpRequestEventTarget() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.__onabortHandler = function (event) { };\n        _this.__onerrorHandler = function (event) { };\n        _this.__ontimeoutHandler = function (event) { };\n        return _this;\n    }\n    Object.defineProperty(XMLHttpRequestEventTarget.prototype, \"onabort\", {\n        get: function () {\n            return this.__onabortHandler || null;\n        },\n        set: function (func) {\n            this.__onabortHandler = func;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(XMLHttpRequestEventTarget.prototype, \"onerror\", {\n        get: function () {\n            return this.__onerrorHandler || null;\n        },\n        set: function (func) {\n            this.__onerrorHandler = func;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(XMLHttpRequestEventTarget.prototype, \"ontimeout\", {\n        get: function () {\n            return this.__ontimeoutHandler || null;\n        },\n        set: function (func) {\n            this.__ontimeoutHandler = func;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return XMLHttpRequestEventTarget;\n}(EventTarget_1.default));\nexports.default = XMLHttpRequestEventTarget;\n\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar _EventTarget = /** @class */ (function () {\n    function _EventTarget() {\n        this.__listeners = {};\n    }\n    _EventTarget.prototype.addEventListener = function (type, callback) {\n        if (!(type in this.__listeners)) {\n            this.__listeners[type] = [];\n        }\n        this.__listeners[type].push(callback);\n    };\n    _EventTarget.prototype.removeEventListener = function (type, callback) {\n        if (!(type in this.__listeners)) {\n            return;\n        }\n        var stack = this.__listeners[type];\n        for (var i = 0, l = stack.length; i < l; i++) {\n            if (stack[i] === callback) {\n                stack.splice(i, 1);\n                return this.removeEventListener(type, callback);\n            }\n        }\n    };\n    _EventTarget.prototype.dispatchEvent = function (event) {\n        if (!(event.type in this.__listeners)) {\n            return;\n        }\n        var stack = this.__listeners[event.type];\n        Object.defineProperty(event, 'target', {\n            value: this\n        });\n        Object.defineProperty(event, 'srcElement', {\n            value: this\n        });\n        Object.defineProperty(event, 'currentTarget', {\n            value: this\n        });\n        for (var i = 0, l = stack.length; i < l; i++) {\n            stack[i].call(this, event);\n        }\n    };\n    return _EventTarget;\n}());\nexports.default = _EventTarget;\n\n\n/***/ })\n/******/ ]);\n});"]}